<html>
<head>
<title>QuizStepDefs.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
.s3 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
QuizStepDefs.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">definitions;</span>

<span class="s0">import </span><span class="s1">cucumber.api.java.en.And;</span>
<span class="s0">import </span><span class="s1">cucumber.api.java.en.Given;</span>
<span class="s0">import </span><span class="s1">cucumber.api.java.en.Then;</span>
<span class="s0">import </span><span class="s1">cucumber.api.java.en.When;</span>
<span class="s0">import </span><span class="s1">org.openqa.selenium.By;</span>

<span class="s0">import static </span><span class="s1">org.assertj.core.api.Assertions.assertThat;</span>
<span class="s0">import static </span><span class="s1">support.TestContext.getDriver;</span>

<span class="s0">public class </span><span class="s1">QuizStepDefs {</span>
    <span class="s1">@Given(</span><span class="s2">&quot;I go to {string} page&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iGoToPage(String url) {</span>
        <span class="s0">if</span><span class="s1">(url.equals(</span><span class="s2">&quot;login&quot;</span><span class="s1">)){</span>
            <span class="s1">getDriver().get(</span><span class="s2">&quot;http://ask-qa.portnov.com/#/login&quot;</span><span class="s1">);</span>
        <span class="s1">}</span><span class="s0">else if</span><span class="s1">(url.equals(</span><span class="s2">&quot;registration&quot;</span><span class="s1">)){</span>
            <span class="s1">getDriver().get(</span><span class="s2">&quot;http://ask-qa.portnov.com/#/registration&quot;</span><span class="s1">);</span>
        <span class="s1">}</span><span class="s0">else </span><span class="s1">{</span>
            <span class="s1">System.out.println(</span><span class="s2">&quot;This site is not supported: &quot; </span><span class="s1">+ url);</span>
        <span class="s1">}</span>

    <span class="s1">}</span>

    <span class="s1">@And(</span><span class="s2">&quot;I wait for {int} sec&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iWaitForSec(</span><span class="s0">int </span><span class="s1">sec) </span><span class="s0">throws </span><span class="s1">InterruptedException {</span>
        <span class="s1">Thread.sleep(</span><span class="s3">1000</span><span class="s1">* sec);</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I type {string} into email field&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iTypeIntoEmailField(String email) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//*[@formcontrolname='email']&quot;</span><span class="s1">)).sendKeys(email);</span>
    <span class="s1">}</span>

    <span class="s1">@And(</span><span class="s2">&quot;I type {string} into password field&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iTypeIntoPasswordField(String password) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//*[@formcontrolname='password']&quot;</span><span class="s1">)).sendKeys(password);</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I click {string} button&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iClickButton(String btnName) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//span[contains(text(),'&quot;</span><span class="s1">+btnName+</span><span class="s2">&quot;')]&quot;</span><span class="s1">)).click();</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I click {string} menu item&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iClickMenuItem(String menuItem) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//h5[contains(text(),'&quot;</span><span class="s1">+menuItem+</span><span class="s2">&quot;')]&quot;</span><span class="s1">)).click();</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I type {string} as quiz title&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iTypeAsQuizTitle(String quizTitle) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//*[@formcontrolname='name']&quot;</span><span class="s1">)).sendKeys(quizTitle);</span>
    <span class="s1">}</span>

    <span class="s1">@And(</span><span class="s2">&quot;I add a question&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iAddAQuestion() {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-icon[text()='add_circle']&quot;</span><span class="s1">)).click();</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I select {string} question type&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iSelectQuestionType(String questionType) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//*[contains(text(),'&quot;</span><span class="s1">+questionType+</span><span class="s2">&quot;')]&quot;</span><span class="s1">)).click();</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I enter {string} into {string}&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iEnterInto(String questionText, String questionNumber) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+questionNumber+</span><span class="s2">&quot;')]/../../..//*[@formcontrolname='question']&quot;</span><span class="s1">)).sendKeys(questionText);</span>
          <span class="s1">}</span>

    <span class="s1">@And(</span><span class="s2">&quot;I type {string} as {string} into {string}&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iTypeAsInto(String optionText, String optionNumber, String questionNumber) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+questionNumber+</span><span class="s2">&quot;')]/../../..//*[@placeholder='&quot;</span><span class="s1">+optionNumber+</span><span class="s2">&quot;']&quot;</span><span class="s1">)).sendKeys(optionText);</span>
    <span class="s1">}</span>

    <span class="s1">@When(</span><span class="s2">&quot;I select {string} as correct option in {string}&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iSelectAsCorrectOptionIn(String optionNumber, String questionNumber) {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+questionNumber+</span><span class="s2">&quot;')]/../../..//*[@placeholder='&quot;</span><span class="s1">+optionNumber+</span><span class="s2">&quot;']/../../../../../mat-radio-button&quot;</span><span class="s1">)).click();</span>
    <span class="s1">}</span>

    <span class="s1">@Then(</span><span class="s2">&quot;I verify that {string} is displayed on the list of quizzes&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iVerifyThatIsDisplayedOnTheListOfQuizzes(String quizTitle) {</span>
        <span class="s1">assertThat(getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+quizTitle+</span><span class="s2">&quot;')]&quot;</span><span class="s1">)).isDisplayed()).isTrue();</span>

    <span class="s1">}</span>

    <span class="s1">@And(</span><span class="s2">&quot;I delete {string} from the list of quizzes&quot;</span><span class="s1">)</span>
    <span class="s0">public void </span><span class="s1">iDeleteFromTheListOfQuizzes(String quizTitle) </span><span class="s0">throws </span><span class="s1">InterruptedException {</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+quizTitle+</span><span class="s2">&quot;')]&quot;</span><span class="s1">)).click();</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//mat-panel-title[contains(text(),'&quot;</span><span class="s1">+quizTitle+</span><span class="s2">&quot;')]/../../..//*[contains(text(),'Delete')]&quot;</span><span class="s1">)).click();</span>
        <span class="s1">getDriver().findElement(By.xpath(</span><span class="s2">&quot;//div[@class='mat-dialog-actions']//*[contains(text(),'Delete')]&quot;</span><span class="s1">)).click();</span>
        <span class="s1">Thread.sleep(</span><span class="s3">1000</span><span class="s1">);</span>
    <span class="s1">}</span>
<span class="s1">}</span>
</pre>
</body>
</html>